<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Happy Birthday, Bubu!</title>
    <link
      rel="icon"
      type="image/png"
      href="https://cdn-icons-png.flaticon.com/512/833/833472.png"
    />
    <style>
      body {
        font-family: Arial, sans-serif;
        background: #ffe6f0;
        text-align: center;
        color: #d63384;
        margin: 0;
        padding: 10px 40px 60px 40px; /* Reduced top padding to 10px, bottom to 60px */
        overflow: hidden;
        position: relative;
      }

      .container {
        display: flex;
        justify-content: center;
        gap: 20px;
        margin: 40px auto;
        z-index: 2;
        position: relative;
      }

      .mailbox-container {
        display: flex;
        flex-direction: column;
        align-items: center;
      }

      .mailbox {
        background: #fff;
        border-radius: 20px;
        width: 250px;
        height: 250px;
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        cursor: pointer;
        transition: transform 0.2s, box-shadow 0.2s;
        display: flex;
        align-items: center;
        justify-content: center;
      }

      .mailbox:hover {
        transform: translateY(-3px);
        box-shadow: 0 6px 10px rgba(0, 0, 0, 0.15);
      }

      .mailbox img {
        width: 120px;
        height: 120px;
      }

      .message-box {
        display: none;
        background: #fff;
        border-radius: 20px;
        padding: 15px;
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
        text-align: center;
        margin-top: 10px;
        width: 250px;
        min-height: 400px;
        box-sizing: border-box;
      }

      .message-box p {
        font-size: 0.95em;
        margin: 10px 0;
        text-align: justify;
      }

      .message-box img {
        width: 220px;
        margin-top: 10px;
        border-radius: 10px;
      }

      /* Heart emoji style */
      .emoji-heart {
        position: absolute;
        animation: fall 5s linear infinite;
        opacity: 0.8;
        z-index: 1;
      }

      @keyframes fall {
        0% {
          transform: translateY(-50px) rotate(0deg);
          opacity: 0.8;
        }
        100% {
          transform: translateY(110vh) rotate(360deg);
          opacity: 0;
        }
      }

      /* Logout button top-right corner */
      .logout-btn {
        position: fixed; /* fixed for top-right placement */
        top: 20px;
        right: 20px;
        background: #d63384;
        color: #fff;
        border: none;
        border-radius: 20px;
        padding: 10px 20px;
        font-size: 1em;
        cursor: pointer;
        transition: background 0.3s;
        z-index: 2;
      }

      .logout-btn:hover {
        background: #c0266b;
      }
    </style>
  </head>
  <body>
    <!-- Raining hearts container -->
    <div id="hearts-container"></div>

    <!-- Mailboxes -->
    <div class="container">
      <!-- Mailbox 1 -->
      <div class="mailbox-container">
        <div class="mailbox" onclick="toggleMessage(1)">
          <img
            src="https://cdn-icons-png.flaticon.com/512/726/726623.png"
            alt="Mailbox"
          />
        </div>
        <div class="message-box" id="message1">
          <div
            id="typingText"
            style="font-size: 0.95em; text-align: justify"
          ></div>
        </div>
      </div>

      <!-- Mailbox 2 -->
      <div class="mailbox-container">
        <div class="mailbox" onclick="toggleMessage(2)">
          <img
            src="https://cdn-icons-png.flaticon.com/512/726/726623.png"
            alt="Mailbox"
          />
        </div>
        <div class="message-box" id="message2">
          <img src="img1.jpeg" alt="Envelope" />
        </div>
      </div>

      <!-- Mailbox 3 -->
      <div class="mailbox-container">
        <div class="mailbox" onclick="toggleMessage(3)">
          <img
            src="https://cdn-icons-png.flaticon.com/512/726/726623.png"
            alt="Mailbox"
          />
        </div>
        <div class="message-box" id="message3">
          <audio
            controls
            style="margin-top: 10px; width: 100%"
            onclick="event.stopPropagation()"
          >
            <source src="song.mp3" type="audio/mpeg" />
            Your browser does not support the audio element.
          </audio>
          <p style="font-style: italic">
            "No matter what they say I still love you"
          </p>
          <img
            src="https://cdn-icons-png.flaticon.com/512/833/833472.png"
            alt="Envelope"
            style="width: 180px; margin-top: 10px; border-radius: 10px"
          />
        </div>
      </div>
    </div>

    <!-- Logout button in top-right -->
    <button class="logout-btn" onclick="logout()">Logout</button>

    <script>
      const textToType = `Happy Birthday!\n\nPanjang umur, sehat selalu, dan bahagia selalu! Makasih ya udah jadi bubu kecil kesayangan aku selama ini. Semoga kita bisa terus bareng, sharing bareng, ada di momen ups and downs bareng, dan saling support satu sama lain. Aku salah satu orang yang beruntung bisa ketemu sama bubu! Maaf ya kalau aku masih banyak salah, mungkin ada kata-kata atau tindakan yang bikin kamu nggak nyaman. Tapi aku selalu sayang banget sama kamu, Bubu! Aku harap kamu mau terus jadi bubu kecil kesayanganku.`;
      let i = 0;

      function toggleMessage(index) {
        const messageBox = document.getElementById("message" + index);
        if (messageBox.style.display === "block") {
          messageBox.style.display = "none";
        } else {
          messageBox.style.display = "block";
          if (index === 1) {
            i = 0;
            document.getElementById("typingText").innerHTML = "";
            typeWriter();
          }
        }
      }

      function typeWriter() {
        const typingText = document.getElementById("typingText");
        if (i < textToType.length) {
          if (textToType.charAt(i) === "\n") {
            typingText.innerHTML += "<br/>";
          } else {
            typingText.innerHTML += textToType.charAt(i);
          }
          i++;
          setTimeout(typeWriter, 30);
        }
      }

      function logout() {
        window.location.href = "index.html";
      }

      // Raining ❤️ hearts effect
      const heartsContainer = document.getElementById("hearts-container");

      function createHeart() {
        const heart = document.createElement("div");
        heart.classList.add("emoji-heart");
        heart.textContent = "❤️";
        heart.style.left = Math.random() * 100 + "vw";
        heart.style.fontSize = 16 + Math.random() * 24 + "px";
        heart.style.animationDuration = 3 + Math.random() * 2 + "s";
        heartsContainer.appendChild(heart);

        setTimeout(() => {
          heart.remove();
        }, 5000);
      }

      setInterval(createHeart, 200);
    </script>
  </body>
</html>
